https://wiki.lyrasis.org/display/DSDOC7x/ORCID+Integration
https://wiki.lyrasis.org/display/DSDOC7x/Researcher+Profiles
https://wiki.lyrasis.org/display/DSDOC7x/Configurable+Entities
https://wiki.lyrasis.org/display/DSDOC7x/ORCID+Authority


local.cfg
=========

add one of:


 orcid.domain-url= https://sandbox.orcid.org
 orcid.api-url = https://api.sandbox.orcid.org/v3.0
 orcid.public-url = https://pub.sandbox.orcid.org/v3.0
 orcid.application-client-id = <YOUR-SANDBOX-ORCID-CLIENT-ID>
 orcid.application-client-secret = <YOUR-SANDBOX-ORCID-CLIENT-SECRET>

(sandbox)


 orcid.domain-url= https://orcid.org
 orcid.api-url = https://api.orcid.org/v3.0
 orcid.public-url = https://pub.orcid.org/v3.0
 orcid.application-client-id = <YOUR-PRODUCTION-ORCID-CLIENT-ID>
 orcid.application-client-secret = <YOUR-PRODUCTION-ORCID-CLIENT-SECRET>

(production)


and:

 (these two only to log in with ORCID)
 orcid.synchronization-enabled = true
 event.dispatcher.default.consumers = authority versioning, discovery, eperson, orcidqueue
                             add this ^^^^^^^^^

 orcid.scope = /authenticate
 researcher-profile.entity-type = Person


API Key - 04dd3269-3b69-4382-bb7f-e6e8d098897b
Client ID - APP-ZBZQB726MVBHXFD3


config/modules/authentication.cfg
=================================

uncomment:

 plugin.sequence.org.dspace.authenticate.AuthenticationMethod = org.dspace.authenticate.OrcidAuthentication



config/modules/authority.cfg
============================

uncomment:


 choices.plugin.dspace.object.owner = EPersonAuthority
 choices.presentation.dspace.object.owner = suggest
 authority.controlled.dspace.object.owner = true

 choices.plugin.dc.contributor.author = SolrAuthorAuthority
 choices.presentation.dc.contributor.author = authorLookup
 authority.controlled.dc.contributor.author = true
 authority.author.indexer.field.1=dc.contributor.author

 plugin.named.org.dspace.content.authority.ChoiceAuthority = \
  org.dspace.content.authority.SolrAuthority = SolrAuthorAuthority

"ensure that at least one Collection is configured to accept Person entities."


config/modules/researcher-profile.cfg
=====================================

uncomment:

 researcher-profile.entity-type = Person


config/item-submission.xml
==========================

uncomment:

        <name-map collection-entity-type="Publication" submission-name="Publication"/>
        <name-map collection-entity-type="Person" submission-name="Person"/>
        <name-map collection-entity-type="Project" submission-name="Project"/>
        <name-map collection-entity-type="OrgUnit" submission-name="OrgUnit"/>
        <name-map collection-entity-type="Journal" submission-name="Journal"/>
        <name-map collection-entity-type="JournalVolume" submission-name="JournalVolume"/>
        <name-map collection-entity-type="JournalIssue" submission-name="JournalIssue"/>


config/spring/api/orcid-authority-services.xml
==============================================

uncomment:

    <alias name="OrcidSource" alias="AuthoritySource"/>
    <bean name="OrcidSource" class="org.dspace.authority.orcid.Orcidv3SolrAuthorityImpl">
        <property name="clientId" value="${orcid.application-client-id}" />
        <property name="clientSecret" value="${orcid.application-client-secret}" />
        <property name="OAUTHUrl" value="${orcid.token-url}" />
        <property name="orcidRestConnector" ref="orcidRestConnector"/>
    </bean>

and this line:

    <bean class="org.dspace.authority.orcid.Orcidv3AuthorityValue"/>



Commands
========

Import the entity model:

 /dspace/bin/dspace initialize-entities -f [dspace]/config/entities/relationship-types.xml

Re-index:

 /dspace/bin/dspace index-authority   (takes a while)
